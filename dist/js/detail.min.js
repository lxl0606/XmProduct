"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,a,e){return a&&_defineProperties(t.prototype,a),e&&_defineProperties(t,e),t}var Product=function(){function t(){_classCallCheck(this,t),this.buy=document.getElementById("buy"),this.addToCart=document.querySelector(".car"),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){this.buy.onclick=function(){location.href="cart.html"},this.addToCart.onclick=function(){var t='{\n                "src":"http://localhost/xmproduct/dist/img/gdImg/dl-fdj1.jpg",\n                "name":"'.concat($(".MagRight h3").html(),'",\n                "price":"').concat($(".MagRight h4").html(),'",\n                "num": 1\n            }'),t=JSON.parse(t);localStorage.data||(localStorage.data="[]");for(var a=localStorage.data,a=JSON.parse(a),e=0,n=0;n<a.length;n++)console.log(1),console.log(a.length),a[n].order==t.order&&(a[n].num=parseInt(t.num)+parseInt(a[n].num),e=1,a=JSON.stringify(a),localStorage.data=a);0==e&&(a.push(t),a=JSON.stringify(a),localStorage.data=a),shopcart("#buy span")}}}]),t}();function shopcart(t){for(var a=localStorage.data,a=JSON.parse(a),e=0,n=0;n<a.length;n++)e+=parseInt(a[n].num);$(t).html(e)}window.onload=function(){new Product};